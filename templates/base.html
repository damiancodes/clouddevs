
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}CloudLink_Devs{% endblock %}</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">

    <!-- Google Fonts - Add modern fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <!-- Theme CSS (for dark/light mode) -->
    <link rel="stylesheet" href="{% static 'css/theme.css' %}">

    <style>
        :root {
            --beige-color: #f5eadb;
            --amber-color: #c1954a;
            --dark-amber: #9e7a39;
            --light-amber: #d4b06a;
            --off-white: #faf7f2;
            --black: #212121;
            --dark-gray: #333333;
            --light-gray: #f0f0f0;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--off-white);
            color: var(--black);
            padding-top: 0; /* Important for sticky navbar */
        }

        body.dark-mode {
            background-color: var(--black);
            color: var(--off-white);
        }

        /* Modern Navbar */
        .navbar {
            background-color: var(--amber-color);
            padding: 1rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        /* Sticky Navbar Styles */
        .navbar-sticky {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            padding-top: 0.5rem;
            padding-bottom: 0.5rem;
            animation: slideDown 0.5s ease;
        }

        @keyframes slideDown {
            from {
                transform: translateY(-100%);
            }
            to {
                transform: translateY(0);
            }
        }

        .navbar-sticky .navbar-brand {
            transform: scale(0.9);
            transition: transform 0.3s ease;
        }

        .navbar-sticky .nav-item {
            transition: all 0.3s ease;
        }

        .navbar-sticky .nav-link {
            padding-top: 0.6rem !important;
            padding-bottom: 0.6rem !important;
        }

        .navbar-brand {
            font-weight: 700;
            color: white !important;
            transition: all 0.3s ease;
        }

        .navbar-light .navbar-nav .nav-link {
            color: rgba(255, 255, 255, 0.85) !important;
            font-weight: 500;
            padding: 0.5rem 1rem;
            transition: all 0.2s ease;
        }

        .navbar-light .navbar-nav .nav-link:hover {
            color: white !important;
        }

        .navbar-light .navbar-toggler-icon {
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='30' height='30' viewBox='0 0 30 30'%3e%3cpath stroke='rgba(255, 255, 255, 0.9)' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
        }

        .navbar-light .navbar-toggler {
            border-color: rgba(255, 255, 255, 0.3);
        }

        /* Dropdown hover styles */
        @media (min-width: 992px) {
            .dropdown:hover .dropdown-menu {
                display: block;
                margin-top: 0;
                animation: fadeIn 0.3s ease;
            }

            @keyframes fadeIn {
                from {
                    opacity: 0;
                    transform: translateY(10px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }
        }

        .dropdown-menu {
            background-color: var(--beige-color);
            border: none;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            border-radius: 0.5rem;
            overflow: hidden;
        }

        .dropdown-item {
            color: var(--black);
            transition: all 0.2s ease;
            padding: 0.6rem 1.2rem;
        }

        .dropdown-item:hover {
            background-color: var(--amber-color);
            color: white;
            transform: translateX(5px);
        }

        /* Modern Buttons */
        .btn-primary {
            background-color: var(--amber-color);
            border-color: var(--amber-color);
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            font-weight: 500;
            padding: 0.5rem 1.25rem;
            border-radius: 0.375rem;
            color: white;
        }

        .btn-primary:hover {
            background-color: var(--dark-amber);
            border-color: var(--dark-amber);
        }

        .btn-light {
            background-color: white;
            color: var(--black);
            border-color: white;
            font-weight: 500;
            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        }

        .btn-light:hover {
            background-color: var(--off-white);
            color: var(--black);
        }

        .btn-outline-light {
            color: white;
            border-color: rgba(255, 255, 255, 0.5);
            font-weight: 500;
        }

        /* Footer Updates */
        footer {
            background: var(--black) !important;
            color: white;
        }

        footer a.text-light {
            color: var(--off-white) !important;
            transition: color 0.2s ease;
        }

        footer a.text-light:hover {
            color: var(--amber-color) !important;
            text-decoration: none;
        }

        /* Theme Toggle */
        #theme-toggle {
            color: white;
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            width: 38px;
            height: 38px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        #theme-toggle:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: rotate(30deg);
        }

        /* Chat Widget Updates */
        .chat-widget .chat-icon {
            background: var(--amber-color);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .chat-header {
            background: var(--amber-color);
        }

        /* Dark mode updates */
        body.dark-mode .card,
        body.dark-mode .service-card,
        body.dark-mode .testimonial-card,
        body.dark-mode .work-card {
            background-color: var(--dark-gray);
            color: white;
        }

        body.dark-mode .section-title h2 {
            color: white;
        }

        body.dark-mode .features-section,
        body.dark-mode .recent-work-section {
            background-color: #111827;
        }

        /* Ensure content doesn't get hidden under sticky navbar on anchor jumps */
        html {
            scroll-padding-top: 80px;
        }

      /* WhatsApp Button Styling with Amber Color */
.whatsapp-btn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 1000;
}

.whatsapp-btn a {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 60px;
    height: 60px;
    background-color: var(--amber-color); /* Using your amber color variable */
    color: white;
    border-radius: 50%;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    animation: pulse 2s infinite;
}

.whatsapp-btn a:hover {
    background-color: var(--dark-amber); /* Using your dark amber variable for hover */
    transform: scale(1.1);
    box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
}

.whatsapp-btn i {
    font-size: 32px;
}

/* Animation for better attention with amber color */
@keyframes pulse {
    0% { box-shadow: 0 0 0 0 rgba(193, 149, 74, 0.5); } /* Amber with transparency */
    70% { box-shadow: 0 0 0 15px rgba(193, 149, 74, 0); }
    100% { box-shadow: 0 0 0 0 rgba(193, 149, 74, 0); }
}

        /* Responsive adjustments for WhatsApp button */
        @media (max-width: 768px) {
            .whatsapp-btn {
                bottom: 15px;
                right: 15px;
            }

            .whatsapp-btn a {
                width: 50px;
                height: 50px;
            }

            .whatsapp-btn i {
                font-size: 26px;
            }
        }
    </style>

    {% block extra_css %}{% endblock %}
</head>
<body class="light-mode">
    <!-- Header -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light">
            <div class="container">
                <a class="navbar-brand" href="{% url 'core:home' %}">
                    <img src="{% static 'images/logo.png' %}" alt="CloudLink_Devs Logo" height="40">
                    CloudLink_Devs
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'core:home' %}">Home</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="servicesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Services
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="{% url 'services:web_development' %}">Web Development</a></li>
                                <li><a class="dropdown-item" href="{% url 'services:app_development' %}">App Development</a></li>
                                <li><a class="dropdown-item" href="{% url 'services:pos_systems' %}">POS Systems</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'portfolio:portfolio' %}">Portfolio</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'blog:blog_list' %}">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'quotes:service_estimator' %}">Estimator</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'core:about' %}">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="{% url 'core:contact' %}">Contact</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link btn btn-dark text-white ms-2 px-3" href="{% url 'client_portal:login' %}">Client Login</a>
                        </li>
                        <li class="nav-item ms-2">
                            <button id="theme-toggle" class="btn btn-sm">
                                <i class="fas fa-moon"></i>
                            </button>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        {% block content %}{% endblock %}
    </main>

    <!-- Chat Widget -->
    <div class="chat-widget" id="chat-widget">
        <div class="chat-icon" id="chat-icon">
            <i class="fas fa-comment-dots"></i>
        </div>
        <div class="chat-container d-none" id="chat-container">
            <div class="chat-header">
                <h5>Chat with Us</h5>
                <button class="close-btn" id="close-chat">×</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="message bot">
                    <p>Hello! How can we help you today?</p>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="user-message" placeholder="Type your message...">
                <button id="send-message"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-5 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>CloudLink_Devs</h5>
                    <p>Providing web development, app development, and POS system solutions.</p>
                    <div class="social-icons">
                        <a href="#" class="text-light me-3"><i class="fab fa-facebook"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="text-light me-3"><i class="fab fa-linkedin"></i></a>
                        <a href="#" class="text-light"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="{% url 'core:home' %}" class="text-light">Home</a></li>
                        <li><a href="{% url 'services:overview' %}" class="text-light">Services</a></li>
                        <li><a href="{% url 'portfolio:portfolio' %}" class="text-light">Portfolio</a></li>
                        <li><a href="{% url 'blog:blog_list' %}" class="text-light">Blog</a></li>
                        <li><a href="{% url 'core:about' %}" class="text-light">About Us</a></li>
                        <li><a href="{% url 'core:contact' %}" class="text-light">Contact</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <address>
                        <p><i class="fas fa-map-marker-alt me-2"></i> 123 Tech Street, Digital City</p>
                        <p><i class="fas fa-phone me-2"></i> (123) 456-7890</p>
                        <p><i class="fas fa-envelope me-2"></i> info@cloudlinkdevs.com</p>
                    </address>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col-md-6">
                    <p>&copy; {% now "Y" %} CloudLink_Devs. All rights reserved.</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <ul class="list-inline">
                        <li class="list-inline-item"><a href="#" class="text-light">Privacy Policy</a></li>
                        <li class="list-inline-item"><a href="#" class="text-light">Terms of Service</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>

    <!-- WhatsApp Floating Button -->
    <div class="whatsapp-btn">
        <a href="https://wa.me/254795471321" target="_blank" rel="noopener noreferrer" aria-label="Chat with us on WhatsApp">
            <i class="fab fa-whatsapp"></i>
        </a>
    </div>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <!-- jQuery (if needed) -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <!-- Custom JS -->
    <script src="{% static 'js/main.js' %}"></script>

    <!-- Theme Toggle JS -->
    <script src="{% static 'js/theme-toggle.js' %}"></script>

    <!-- Chat Widget JS -->
    <script src="{% static 'js/chat-widget.js' %}"></script>

    <!-- Sticky Header JS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const navbar = document.querySelector('.navbar');
            const navbarHeight = navbar.offsetHeight;

            window.addEventListener('scroll', function() {
                if (window.scrollY > navbarHeight) {
                    navbar.classList.add('navbar-sticky');
                    document.body.style.paddingTop = navbarHeight + 'px';

                    // Add subtle animation to nav items
                    document.querySelectorAll('.navbar-nav .nav-item').forEach((item, index) => {
                        item.style.transitionDelay = `${index * 0.05}s`;
                    });
                } else {
                    navbar.classList.remove('navbar-sticky');
                    document.body.style.paddingTop = '0';

                    // Reset transition delays
                    document.querySelectorAll('.navbar-nav .nav-item').forEach((item) => {
                        item.style.transitionDelay = '0s';
                    });
                }
            });

            // Handle hover dropdown for desktop
            if (window.innerWidth >= 992) {
                const dropdowns = document.querySelectorAll('.dropdown');

                dropdowns.forEach(dropdown => {
                    dropdown.addEventListener('mouseenter', function() {
                        const dropdownMenu = this.querySelector('.dropdown-menu');
                        new bootstrap.Dropdown(this.querySelector('.dropdown-toggle')).show();
                    });

                    dropdown.addEventListener('mouseleave', function() {
                        const dropdownToggle = this.querySelector('.dropdown-toggle');
                        new bootstrap.Dropdown(dropdownToggle).hide();
                    });
                });
            }
        });
    </script>

    {% block extra_js %}{% endblock %}
</body>
</html>